<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Open a log — log_open • logr</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Open a log — log_open" />
<meta property="og:description" content="A function to initialize the log file." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">logr</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.1.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/logr.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/logr-tidylog.html">logr-tidylog</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/dbosak01/logr/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Open a log</h1>
    <small class="dont-index">Source: <a href='https://github.com/dbosak01/logr/blob/master/R/logr.R'><code>R/logr.R</code></a></small>
    <div class="hidden name"><code>log_open.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>A function to initialize the log file.</p>
    </div>

    <pre class="usage"><span class='fu'>log_open</span><span class='op'>(</span>file_name <span class='op'>=</span> <span class='st'>""</span>, logdir <span class='op'>=</span> <span class='cn'>TRUE</span>, show_notes <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>file_name</th>
      <td><p>The name of the log file.  If no path is specified, the
working directory will be used.</p></td>
    </tr>
    <tr>
      <th>logdir</th>
      <td><p>Send the log to a log directory named "log".  If the log
directory does not exist, the function will create it.  Valid values are
TRUE and FALSE. The default is TRUE.</p></td>
    </tr>
    <tr>
      <th>show_notes</th>
      <td><p>If true, will write notes to the log.  Valid values are
TRUE and FALSE. Default is TRUE.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>The path of the log.</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>The <code>log_open</code> function initializes and opens the log file.
This function must be called first, before any logging can occur.
The function determines the log path, attaches event handlers,
clears existing log files, and initiates a new log.</p>
<p>The <code>file_name</code> parameter may be a full path, a relative path, or
a file name.  An relative path or file name will be assumed to be relative
to the current working directory.  If the <code>file_name</code> does
not have a '.log' extension, the <code>log_open</code> function will add it.</p>
<p>If requested in the <code>logdir</code> parameter, the <code>log_open</code>
function will write to a 'log' subdirectory of the path specified in the
<code>file_name</code>.  If the 'log' subdirectory does not exist,
the function will create it.</p>
<p>The log file will be initialized with a header that shows the log file name,
the current working directory, the current user, and a timestamp of
when the <code>log_open</code> function was called.</p>
<p>All errors, the last warning, and any <code>log_print</code> output will be
written to the log.  The log file will exist in the location specified in the
file_name parameter, and will normally have a '.log' extension.</p>
<p>If errors or warnings are generated, a second file will
be written that contains only error and warning messages.  This second file
will have a '.msg' extension and will exist in the specified log directory.
If the log is clean, the msg file will not be created.
The purpose of the msg file is to give the user a visual indicator from
the file system that an error or warning occurred.  This indicator
msg file is useful when running programs in batch.</p>
<p>To use <strong>logr</strong>, call <code>log_open</code>, and then make calls to
<code>log_print</code> as needed to print variables or data frames to the log.
The <code>log_print</code> function can be used in place of a standard
<code>print</code> function.  Anything printed with <code>log_print</code> will
be printed to the log, and to the console if working interactively.</p>
<p>This package provides the functionality of <code>sink</code>, but in much more
user-friendly way.  Recommended usage is to call <code>log_open</code> at the top
of the script, call <code>log_print</code> as needed to log interim state,
and call <code>log_close</code> at the bottom of the script.</p>
<p>Logging may be controlled globally using the "logr.on" option.  This option
accepts a TRUE or FALSE value. If the option is set to FALSE, <strong>logr</strong>
will print to the console, but not to the log.
Example: <code><a href='https://rdrr.io/r/base/options.html'>options("logr.on" = TRUE)</a></code></p>
<p>Notes may be controlled globally using the "logr.notes" option.  This option
also accepts a TRUE or FALSE value, and determines whether or not to print
notes in the log.  The global option will override the <code>show_notes</code>
parameter on the <code>log_open</code> function.
Example: <code><a href='https://rdrr.io/r/base/options.html'>options("logr.notes" = FALSE)</a></code></p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='log_print.html'>log_print</a></code> for printing to the log (and console),
and <code><a href='log_close.html'>log_close</a></code> to close the log.</p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'># Create temp file location</span>
<span class='va'>tmp</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/file.path.html'>file.path</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/tempfile.html'>tempdir</a></span><span class='op'>(</span><span class='op'>)</span>, <span class='st'>"test.log"</span><span class='op'>)</span>

<span class='co'># Open log</span>
<span class='va'>lf</span> <span class='op'>&lt;-</span> <span class='fu'>log_open</span><span class='op'>(</span><span class='va'>tmp</span><span class='op'>)</span>

<span class='co'># Send message to log</span>
<span class='fu'><a href='log_print.html'>log_print</a></span><span class='op'>(</span><span class='st'>"High Mileage Cars Subset"</span><span class='op'>)</span>
</div><div class='output co'>#&gt; [1] "High Mileage Cars Subset"</div><div class='input'>
<span class='co'># Perform operations</span>
<span class='va'>hmc</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/subset.html'>subset</a></span><span class='op'>(</span><span class='va'>mtcars</span>, <span class='va'>mtcars</span><span class='op'>$</span><span class='va'>mpg</span> <span class='op'>&gt;</span> <span class='fl'>20</span><span class='op'>)</span>

<span class='co'># Print data to log</span>
<span class='fu'><a href='log_print.html'>log_print</a></span><span class='op'>(</span><span class='va'>hmc</span><span class='op'>)</span>
</div><div class='output co'>#&gt;                 mpg cyl  disp  hp drat    wt  qsec vs am gear carb
#&gt; Mazda RX4      21.0   6 160.0 110 3.90 2.620 16.46  0  1    4    4
#&gt; Mazda RX4 Wag  21.0   6 160.0 110 3.90 2.875 17.02  0  1    4    4
#&gt; Datsun 710     22.8   4 108.0  93 3.85 2.320 18.61  1  1    4    1
#&gt; Hornet 4 Drive 21.4   6 258.0 110 3.08 3.215 19.44  1  0    3    1
#&gt; Merc 240D      24.4   4 146.7  62 3.69 3.190 20.00  1  0    4    2
#&gt; Merc 230       22.8   4 140.8  95 3.92 3.150 22.90  1  0    4    2
#&gt; Fiat 128       32.4   4  78.7  66 4.08 2.200 19.47  1  1    4    1
#&gt; Honda Civic    30.4   4  75.7  52 4.93 1.615 18.52  1  1    4    2
#&gt; Toyota Corolla 33.9   4  71.1  65 4.22 1.835 19.90  1  1    4    1
#&gt; Toyota Corona  21.5   4 120.1  97 3.70 2.465 20.01  1  0    3    1
#&gt; Fiat X1-9      27.3   4  79.0  66 4.08 1.935 18.90  1  1    4    1
#&gt; Porsche 914-2  26.0   4 120.3  91 4.43 2.140 16.70  0  1    5    2
#&gt; Lotus Europa   30.4   4  95.1 113 3.77 1.513 16.90  1  1    5    2
#&gt; Volvo 142E     21.4   4 121.0 109 4.11 2.780 18.60  1  1    4    2</div><div class='input'>
<span class='co'># Close log</span>
<span class='fu'><a href='log_close.html'>log_close</a></span><span class='op'>(</span><span class='op'>)</span>

<span class='co'># View results</span>
<span class='fu'><a href='https://rdrr.io/r/base/writeLines.html'>writeLines</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/readLines.html'>readLines</a></span><span class='op'>(</span><span class='va'>lf</span><span class='op'>)</span><span class='op'>)</span>
</div><div class='output co'>#&gt; ========================================================================= 
#&gt; Log Path: C:/Users/User/AppData/Local/Temp/RtmpmQNFcS/log/test.log 
#&gt; Working Directory: C:/packages/logr/docs/reference 
#&gt; User Name: User 
#&gt; R Version: 4.0.3 (2020-10-10) 
#&gt; Machine: ZB15-5CD00276ZY x86-64 
#&gt; Operating System: Windows 10 x64 build 18363 
#&gt; Log Start Time: 2020-12-20 19:11:16 
#&gt; ========================================================================= 
#&gt; 
#&gt; High Mileage Cars Subset 
#&gt; 
#&gt; NOTE: Log Print Time:  2020-12-20 19:11:16 
#&gt; NOTE: Elapsed Time in seconds: 0.00199604034423828 
#&gt; 
#&gt;                 mpg cyl  disp  hp drat    wt  qsec vs am gear carb
#&gt; Mazda RX4      21.0   6 160.0 110 3.90 2.620 16.46  0  1    4    4
#&gt; Mazda RX4 Wag  21.0   6 160.0 110 3.90 2.875 17.02  0  1    4    4
#&gt; Datsun 710     22.8   4 108.0  93 3.85 2.320 18.61  1  1    4    1
#&gt; Hornet 4 Drive 21.4   6 258.0 110 3.08 3.215 19.44  1  0    3    1
#&gt; Merc 240D      24.4   4 146.7  62 3.69 3.190 20.00  1  0    4    2
#&gt; Merc 230       22.8   4 140.8  95 3.92 3.150 22.90  1  0    4    2
#&gt; Fiat 128       32.4   4  78.7  66 4.08 2.200 19.47  1  1    4    1
#&gt; Honda Civic    30.4   4  75.7  52 4.93 1.615 18.52  1  1    4    2
#&gt; Toyota Corolla 33.9   4  71.1  65 4.22 1.835 19.90  1  1    4    1
#&gt; Toyota Corona  21.5   4 120.1  97 3.70 2.465 20.01  1  0    3    1
#&gt; Fiat X1-9      27.3   4  79.0  66 4.08 1.935 18.90  1  1    4    1
#&gt; Porsche 914-2  26.0   4 120.3  91 4.43 2.140 16.70  0  1    5    2
#&gt; Lotus Europa   30.4   4  95.1 113 3.77 1.513 16.90  1  1    5    2
#&gt; Volvo 142E     21.4   4 121.0 109 4.11 2.780 18.60  1  1    4    2
#&gt; 
#&gt; NOTE: Data frame has 14 rows and 11 columns. 
#&gt; 
#&gt; NOTE: Log Print Time:  2020-12-20 19:11:16 
#&gt; NOTE: Elapsed Time in seconds: 0.00797605514526367 
#&gt; 
#&gt; ========================================================================= 
#&gt; Log End Time: 2020-12-20 19:11:16 
#&gt; Log Elapsed Time: 0 00:00:00 
#&gt; ========================================================================= </div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by David Bosak.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


